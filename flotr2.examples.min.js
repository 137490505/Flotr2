
(function(){var a=Flotr.EventAdapter,b="click",c="example",d="mouseenter",e="mouseleave",f=".",g="flotr-examples",h="flotr-examples-container",i="flotr-examples-reset",j="flotr-examples-thumbs",k="flotr-examples-thumb",l="flotr-examples-collapsed",m="flotr-examples-highlight",n="flotr-examples-large",o="flotr-examples-medium",p="flotr-examples-small",q="flotr-examples-mobile",r='<div class="'+k+'"></div>',s='<div class="'+g+'">'+'<div class="'+i+'">View All</div>'+'<div class="'+j+'"></div>'+'<div class="'+h+'"></div>'+"</div>";Examples=function(a){if(_.isUndefined(Flotr.ExampleList))throw"Flotr.ExampleList not defined.";this.options=a,this.list=Flotr.ExampleList,this.current=null,this.single=!1,this._initNodes(),this._example=new Flotr.Examples.Example({node:this._exampleNode}),this._initExamples()},Examples.prototype={examples:function(){function d(b){var d=$(b.currentTarget),e=d.data("example"),f=b.data.orientation;f^d.hasClass(m)&&(d.toggleClass(m).css(a),c._example.executeCallback(e,d))}var a={cursor:"pointer"},b=this._thumbsNode,c=this;_.each(this.list.get(),function(a){_.defer(function(){if(a.type!=="profile"){var d=$(r);d.data("example",a),b.append(d),c._example.executeCallback(a,d),d.click(function(){c._loadExample(a)})}})}),b.delegate(f+k,"mouseenter",{orientation:!0},d),b.delegate(f+k,"mouseleave",{orientation:!1},d)},_loadExample:function(a){a&&(window.location.hash="!"+(this.single?"single/":"")+a.key,t||(this._thumbsNode.css({position:"absolute",height:"0px",overflow:"hidden",width:"0px"}),this._resetNode.css({top:"16px"})),this._examplesNode.addClass(l),this._exampleNode.show(),this._example.setExample(a),this._resize())},_reset:function(){window.location.hash="",t||this._thumbsNode.css({position:"",height:"",overflow:"",width:""}),this._examplesNode.removeClass(l),this._thumbsNode.height(""),this._exampleNode.hide()},_initNodes:function(){var a=$(this.options.node),b=this,c=$(s);b._resetNode=c.find(f+i),b._exampleNode=c.find(f+h),b._thumbsNode=c.find(f+j),b._examplesNode=c,b._resetNode.click(function(){b._reset()}),a.append(c),this._initResizer()},_initResizer:function(){function e(){var b=c.height(),e=c.width(),f;e>1640?(f=n,a._thumbsNode.height(b)):e>1e3?(f=o,a._thumbsNode.height(b)):(f=p,a._thumbsNode.height("")),d!==f&&(d&&a._examplesNode.removeClass(d),a._examplesNode.addClass(f),d=f)}var a=this,b=a._examplesNode,c=$(window),d;$(window).resize(e),e(),this._resize=e},_initExamples:function(){var a=window.location.hash,b,c;a?(a=a.substring(2),c=a.split("/"),c.length==1?(b=this.list.get(a),this.examples()):c[0]=="single"&&(this.single=!0,b=this.list.get(c[1])),this._loadExample(b)):this.examples()}};var t=function(){var a=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)),b=!!$.browser.mozilla;return!a||b}();Flotr.Examples=Examples})(),function(){var a=function(){this.examples={}};a.prototype={add:function(a){this.examples[a.key]=a},get:function(a){return a?this.examples[a]||null:this.examples},getType:function(a){return _.select(this.examples,function(b){return b.type===a})}},Flotr.ExampleList=new a}(),function(){var a=".",b="flotr-example",c="flotr-example-label",d="flotr-example-title",e="flotr-example-graph",f="flotr-example-description",g="flotr-example-editor",h="flotr-example-source",i="flotr-example-source-container",j="flotr-example-graph",k='<div class="'+b+'">'+'<div class="'+c+" "+d+'"></div>'+'<div id="'+j+'" class="'+e+'"></div>'+'<div class="'+f+'"></div>'+'<div class="'+i+'">'+'<div class="'+c+'">Source:</div>'+'<div class="'+h+'"></div>'+"</div>"+"</div>",l=function(b){this.options=b,this.example=null,this._initNodes(),this._editor=new Flotr.Examples.Editor({node:this._exampleNode.find(a+i),sourceNode:this._sourceNode})};l.prototype={setExample:function(a){this._renderSource(a),this._renderGraph(a),this.example=a},getExample:function(){return this.example},executeCallback:function(a,b){_.isElement(b)||(b=b[0]);var c=a.args?[b].concat(a.args):[b];Math.seedrandom(a.key);return a.callback.apply(this,c)},_initNodes:function(){var b=this.options.node,c=$(k);this._titleNode=c.find(a+d),this._sourceNode=c.find(a+h),this._markupNode=c.find(a+f),this._graphNode=c.find(a+e),this._exampleNode=c,b.append(c)},_renderSource:function(a){var b=this._sourceNode,c=this._getSource(a);this._exampleNode.css({display:"block"}),b.show(),b.html('<pre class="prettyprint javascript">'+c+"</pre>"),this.example&&(this.example.editorText=this._editor.getSource()),this._editor.off(),this._editor.setSource(a.editorText||c),this._titleNode.html(a.name),this._markupNode.html(a.description||""),prettyPrint()},_getSource:function(a){var b=a.args?", "+a.args.join(", "):"",c=a.callback+"";navigator.userAgent.search(/firefox/i)!==-1&&(c=js_beautify(c));return"("+c+')(document.getElementById("'+j+'"'+b+"));"},_renderGraph:function(a){Flotr.EventAdapter.stopObserving(this._graphNode[0]),this.current=this.executeCallback(a,this._graphNode)||null}},Flotr.Examples.Example=l}(),function(){var DOT=".",ON="on",OFF="off",CN_EDITOR="flotr-example-editor",CN_TEXT="flotr-example-editor-text",CN_RUN="flotr-example-editor-run",CN_CONTROLS="flotr-example-editor-controls",CN_TOGGLE="flotr-example-editor-toggle",LABEL_EDIT="Edit",LABEL_RUN="Run",LABEL_SOURCE="Source",TEMPLATE='<div class="'+CN_EDITOR+'">'+'<textarea class="'+CN_TEXT+'"></textarea>'+'<div class="'+CN_CONTROLS+'">'+'<button class="'+CN_TOGGLE+'">'+LABEL_EDIT+"</button>"+'<button class="'+CN_RUN+'">'+LABEL_RUN+"</button>"+"</div>"+"</div>",Editor=function(a){this.options=a,this.editMode=OFF,this._initNodes(),this._initEditor()};Editor.prototype={setSource:function(a){this._textNode.val(a)},getSource:function(){return this._textNode.val()},on:function(){var a=this._textNode,b=this._sourceNode.children().first(),c=b.height(),d=b.width(),e=b.position();a.css({height:c,width:d,left:e.left,top:e.top}),a.show(),a.focus(),this._toggleNode.text(LABEL_SOURCE),this._runNode.show(),this.editMode=ON},off:function(){this._toggleNode.text(LABEL_EDIT),this._runNode.hide(),this._textNode.hide(),this.editMode=OFF},_initEditor:function(){this._toggleNode.click(_.bind(this._handleEditClick,this)),this._runNode.click(_.bind(this._handleRunClick,this))},_initNodes:function(){var a=this.options.node,b=$(TEMPLATE);this._toggleNode=b.find(DOT+CN_TOGGLE),this._textNode=b.find(DOT+CN_TEXT),this._runNode=b.find(DOT+CN_RUN),this._sourceNode=this.options.sourceNode,this._editorNode=b,a.append(b)},_handleEditClick:function(){this.editMode==OFF?this.on():this.off()},_handleRunClick:function(){var textNode=this._textNode;try{eval(textNode.val())}catch(e){alert(e)}textNode.focus()}},Flotr.Examples.Editor=Editor}(),function(){var a=Flotr.DOM,b=Flotr.EventAdapter,c="click",d="example-profile",e="examples",f=function(a){if(_.isUndefined(Flotr.ExampleList))throw"Flotr.ExampleList not defined.";this.editMode="off",this.list=Flotr.ExampleList,this.current=null,this.single=!1,this.init()};f.prototype=_.extend({},Flotr.Examples.prototype,{examples:function(){var d=document.getElementById(e),f=a.node("<ul></ul>"),g;_.each(this.list.getType("profile"),function(d){g=a.node("<li>"+d.name+"</li>"),a.insert(f,g),b.observe(g,c,_.bind(function(){this.example(d)},this))},this),a.insert(d,f)},example:function(a){this._renderSource(a),this.profileStart(a),setTimeout(_.bind(function(){this._renderGraph(a),this.profileEnd()},this),50)},profileStart:function(a){var b=document.getElementById(d);this._startTime=new Date,b.innerHTML='<div>Profile started for "'+a.name+'"...</div>'},profileEnd:function(a){var b=document.getElementById(d);profileTime=new Date-this._startTime,this._startTime=null,b.innerHTML+="<div>Profile complete: "+profileTime+"ms<div>"}}),Flotr.Profile=f}()